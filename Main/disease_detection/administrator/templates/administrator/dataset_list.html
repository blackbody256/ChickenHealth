{% extends "layouts/base.html" %}
{% block title %}Uploaded Datasets - KukuIntel{% endblock %}

{% block content %}
{% extends "layouts/base.html" %}
{% block title %}Uploaded Datasets - KukuIntel{% endblock %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/responsive.css' %}">


<div class="dataset-container">
    <h2>Uploaded Datasets</h2>

    {% if messages %}
        <div class="message-success">
            {% for message in messages %}
                {{ message }}
            {% endfor %}
        </div>
    {% endif %}

    {% if datasets %}
        {% for dataset in datasets %}
            <div class="dataset-card">
                <h3 class="dataset-name">{{ dataset.name }}</h3>
                <p><strong>Uploaded:</strong> {{ dataset.uploaded_at }}</p>
                <p><strong>File:</strong> <a href="{{ dataset.zip_file.url }}" download>{{ dataset.zip_file.name }}</a></p>

                <div class="actions">
                    <form action="{% url 'administrator:delete_dataset' dataset.pk %}" method="post" onsubmit="return confirm('Are you sure you want to delete this dataset?');">
                        {% csrf_token %}
                        <button type="submit">Delete</button>
                    </form>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p>No datasets have been uploaded yet.</p>
    {% endif %}
</div>
{% endblock %}
